#N canvas 710 31 1078 819 10;
#X obj 584 14 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 138 24 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 551 85 s metro;
#X obj 499 195 r metro;
#X obj 649 10 r done;
#X obj 613 83 s start;
#X obj 321 259 s done;
#X obj 29 258 s~ c1;
#X obj 279 258 s~ c7;
#X obj 237 259 s~ c6;
#X obj 197 259 s~ c5;
#X obj 155 258 s~ c4;
#X obj 112 258 s~ c3;
#X obj 70 259 s~ c2;
#X obj 14 112 r start;
#X msg 14 141 1;
#X obj 664 263 t b;
#X msg 499 228 GET http://localhost:5000/queen/7/out;
#X obj 30 219 readsf~ 7, f 49;
#X obj 620 378 f;
#X obj 673 378 + 1;
#X obj 620 354 t b;
#X obj 116 473 dac~ 1 8 7 6 5 4 3 2;
#X obj 41 370 r~ e1;
#X obj 85 370 r~ e2;
#X obj 128 372 r~ e3;
#X obj 165 373 r~ e4;
#X obj 204 374 r~ e5;
#X obj 245 374 r~ e6;
#X obj 288 376 r~ e7;
#X obj 41 758 s~ e1;
#X obj 495 756 s~ e7;
#X obj 430 756 s~ e6;
#X obj 355 754 s~ e5;
#X obj 274 755 s~ e4;
#X obj 199 756 s~ e3;
#X obj 127 757 s~ e2;
#X obj 50 571 r~ c1;
#X msg 490 440 az \$1;
#X obj 631 420 div;
#X obj 514 485 s;
#X obj 560 485 s;
#X msg 497 308 set 0;
#X msg 630 444 symbol m\$1;
#X obj 89 572 r m1;
#X msg 138 74 open C:/queen/7channel.wav;
#X obj 161 571 r~ c2;
#X obj 276 571 r~ c3;
#X obj 380 570 r~ c4;
#X obj 478 568 r~ c5;
#X obj 591 569 r~ c6;
#X obj 706 568 r~ c7;
#X obj 200 572 r m2;
#X obj 315 572 r m3;
#X obj 419 571 r m4;
#X obj 517 569 r m5;
#X obj 630 571 r m6;
#X obj 745 569 r m7;
#X msg 64 141 0;
#X obj 517 55 metro 250;
#X msg 818 27 \; pd dsp 1;
#X obj 682 83 s stop;
#X obj 64 112 r stop;
#X msg 490 386 \$1 150;
#X obj 490 412 line;
#X msg 553 385 \$1 150;
#X obj 553 411 line;
#X msg 553 440 el \$1;
#X text 387 399 for smoothing >;
#X text 80 6 BANG TO LOAD FILE BEFORE STARTING;
#X text 791 7 DSP must be enabled;
#X text 57 199 2 Set number of channels as first argument of readsf~
;
#X text 558 193 3 Specify the URL to listen in the format of HOST/<room_name>/<num_channels>/out
;
#X text 23 282 4i. Create sends for each channel;
#X text 518 162 ===== GET B-FORMAT VOTES FROM WEBSERVER =====;
#X text 118 342 ===== DECODING =====;
#X text 347 535 ===== ENCODING =====;
#X msg 664 346 1;
#X msg 745 348 2;
#X obj 563 263 rest;
#X obj 565 305 json-decode;
#X obj 50 598 grambipan~ 3, f 14;
#X obj 162 598 grambipan~ 3, f 14;
#X obj 277 597 grambipan~ 3, f 14;
#X obj 381 595 grambipan~ 3, f 14;
#X obj 478 595 grambipan~ 3, f 14;
#X obj 592 595 grambipan~ 3, f 14;
#X obj 707 594 grambipan~ 3, f 14;
#X obj 117 417 grambidec~ oct, f 20;
#X obj 508 353 cycle 2;
#X text 690 257 < restart counters on each new message received.;
#X text 737 300 messages from json-decode flattens the arrays into
a sequence of ordere data;
#X text 708 441 < will route each batch of messages to the correct
channel;
#X text 515 548 4ii. Create a grambipan~ and r~ for each channel;
#X text 474 12 START PLAYBACK >;
#X obj 613 54 sel 1 0;
#X text 220 778 4iii. Send all outputs of each grambipan~ to each s~
;
#X text 148 43 1 Set the directory to your multichannel WAVE file here
;
#X connect 0 0 59 0;
#X connect 0 0 95 0;
#X connect 1 0 45 0;
#X connect 3 0 17 0;
#X connect 4 0 0 0;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 16 0 42 0;
#X connect 16 0 77 0;
#X connect 16 0 78 0;
#X connect 17 0 16 0;
#X connect 17 0 79 0;
#X connect 18 0 7 0;
#X connect 18 1 13 0;
#X connect 18 2 12 0;
#X connect 18 3 11 0;
#X connect 18 4 10 0;
#X connect 18 5 9 0;
#X connect 18 6 8 0;
#X connect 18 7 6 0;
#X connect 19 0 20 0;
#X connect 19 0 39 0;
#X connect 20 0 19 1;
#X connect 21 0 19 0;
#X connect 23 0 88 0;
#X connect 24 0 88 1;
#X connect 25 0 88 2;
#X connect 26 0 88 3;
#X connect 27 0 88 4;
#X connect 28 0 88 5;
#X connect 29 0 88 6;
#X connect 37 0 81 0;
#X connect 38 0 40 0;
#X connect 39 0 43 0;
#X connect 42 0 89 0;
#X connect 43 0 40 1;
#X connect 43 0 41 1;
#X connect 44 0 81 0;
#X connect 45 0 18 0;
#X connect 46 0 82 0;
#X connect 47 0 83 0;
#X connect 48 0 84 0;
#X connect 49 0 85 0;
#X connect 50 0 86 0;
#X connect 51 0 87 0;
#X connect 52 0 82 0;
#X connect 53 0 83 0;
#X connect 54 0 84 0;
#X connect 55 0 85 0;
#X connect 56 0 86 0;
#X connect 57 0 87 0;
#X connect 58 0 18 0;
#X connect 59 0 2 0;
#X connect 62 0 58 0;
#X connect 63 0 64 0;
#X connect 64 0 38 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 67 0 41 0;
#X connect 77 0 19 0;
#X connect 78 0 39 1;
#X connect 79 0 80 0;
#X connect 80 0 21 0;
#X connect 80 0 89 0;
#X connect 81 0 30 0;
#X connect 81 1 36 0;
#X connect 81 2 35 0;
#X connect 81 3 34 0;
#X connect 81 4 33 0;
#X connect 81 5 32 0;
#X connect 81 6 31 0;
#X connect 82 0 30 0;
#X connect 82 1 36 0;
#X connect 82 2 35 0;
#X connect 82 3 34 0;
#X connect 82 4 33 0;
#X connect 82 5 32 0;
#X connect 82 6 31 0;
#X connect 83 0 30 0;
#X connect 83 1 36 0;
#X connect 83 2 35 0;
#X connect 83 3 34 0;
#X connect 83 4 33 0;
#X connect 83 5 32 0;
#X connect 83 6 31 0;
#X connect 84 0 30 0;
#X connect 84 1 36 0;
#X connect 84 2 35 0;
#X connect 84 3 34 0;
#X connect 84 4 33 0;
#X connect 84 5 32 0;
#X connect 84 6 31 0;
#X connect 85 0 30 0;
#X connect 85 1 36 0;
#X connect 85 2 35 0;
#X connect 85 3 34 0;
#X connect 85 4 33 0;
#X connect 85 5 32 0;
#X connect 85 6 31 0;
#X connect 86 0 30 0;
#X connect 86 1 36 0;
#X connect 86 2 35 0;
#X connect 86 3 34 0;
#X connect 86 4 33 0;
#X connect 86 5 32 0;
#X connect 86 6 31 0;
#X connect 87 0 30 0;
#X connect 87 1 36 0;
#X connect 87 2 35 0;
#X connect 87 3 34 0;
#X connect 87 4 33 0;
#X connect 87 5 32 0;
#X connect 87 6 31 0;
#X connect 88 0 22 0;
#X connect 88 1 22 1;
#X connect 88 2 22 2;
#X connect 88 3 22 3;
#X connect 88 4 22 4;
#X connect 88 5 22 5;
#X connect 88 6 22 6;
#X connect 88 7 22 7;
#X connect 89 0 63 0;
#X connect 89 1 65 0;
#X connect 95 0 5 0;
#X connect 95 1 61 0;
